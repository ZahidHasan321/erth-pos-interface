                <div
                    id={steps[2].id}
                    ref={(el) => {
                        sectionRefs.current[2] = el;
                    }}
                    className="w-full flex flex-col items-center 2xl:col-span-2"
                >
                    <ErrorBoundary fallback={<div>Fabric Selection crashed</div>}>
                        <FabricSelectionForm
                            customerId={customerDemographics.id || null}
                            customerName={
                                customerDemographics.nick_name || customerDemographics.name
                            }
                            customerMobile={customerDemographics.phone}
                            form={fabricSelectionForm}
                            isOrderClosed={isOrderClosed}
                            onSubmit={handleFabricSelectionSubmit}
                            onProceed={() => handleProceed(2)}
                            orderId={orderId}
                            onCampaignsChange={(campaigns) => {
                                if (orderId) {
                                    OrderForm.setValue("campaign_id", parseInt(campaigns[0]));
                                }
                            }}
                            isProceedDisabled={fabricSelections.length === 0}
                            checkoutStatus={checkoutStatus}
                            deliveryDate={order.delivery_date}
                            setDeliveryDate={(date: string) =>
                                setOrder({ delivery_date: date })
                            }
                            fatoura={fatoura}
                            orderDate={order.order_date}
                            stichingPrice={stitchingPrice}
                            setStichingPrice={setStitchPrice}
                            initialCampaigns={order.campaign_id ? [order.campaign_id.toString()] : []}
                        />
                    </ErrorBoundary>
                </div>

                {/* STEP 3: Shelved Products */}
                <div
                    id={steps[3].id}
                    ref={(el) => {
                        sectionRefs.current[3] = el;
                    }}
                    className="w-full flex flex-col items-center 2xl:col-span-2"
                >
                    <ErrorBoundary fallback={<div>Shelved Products crashed</div>}>
                        <ShelvedProductsForm
                            form={ShelvesForm}
                            isOrderClosed={isOrderClosed}
                            onProceed={handleShelvesProceed}
                        />
                    </ErrorBoundary>
                </div>

                {/* STEP 4: Review & Payment */}
                <div
                    id={steps[4].id}
                    ref={(el) => {
                        sectionRefs.current[4] = el;
                    }}
                    className="w-full flex flex-col items-center 2xl:col-span-2"
                >
                    <ErrorBoundary fallback={<div>Order and Payment crashed</div>}>
                        <OrderSummaryAndPaymentForm
                            form={OrderForm}
                            isOrderClosed={isOrderClosed}
                            invoiceData={invoiceData}
                            orderId={orderId}
                            checkoutStatus={checkoutStatus}
                            customerAddress={customerDemographics?.address}
                            fabricSelections={fabricSelections}
                            onConfirm={(data) => {
                                openDialog(
                                    "Confirm new work order",
                                    "Do you want to confirm a new work order?",
                                    () => {
                                        handleOrderConfirmation(data);
                                        closeDialog();
                                    },
                                );
                            }}
                            onCancel={() => {
                                openDialog(
                                    "Cancel new work order",
                                    "Do you want to cancel a new work order?",
                                    () => {
                                        handleOrderCancellation();
                                        closeDialog();
                                    },
                                );
                            }}
                        />
                    </ErrorBoundary>
                </div>
            </div>
        </>
    );
}
